# yank-remote-url.vim

The vim plugin that yank your code as remote(GitHub/GitLab/GitBucket etc) URL.

## Installation

Use your favorite plugin manager.

- vim-plug
    ```vim
    Plug 'Omochice/yank-remote-url.vim'
    ```

- vim-jetpack
    ```vim
    Jetpack 'Omochice/yank-remote-url.vim'
    ```

- dein.vim
    ```vim
    call dein#add('Omochice/yank-remote-url.vim')
    ```

## Command

This plugin provides a command:

- `YankRemoteURL`
    Yank current | selected line(s) as remote URL.

## Function

This plugin provides some functions:

- `yank_remote_url#generate_url({line1}[, {line2}])`
    Generate remote url that show `line1` [to `line2`].
    If the code is not tracked or the repository has no remote repository etc, show error and return empty string.
    ```vim
    call yank_remote_url#generate_url(1, 3)
    " => like 'https://github.com/owner/repo/branch/blob/file#L1+L3'
    ```

- `yank_remote_url#yank_url({line1}[, {line2}])`
    Yank url that generated by |yank_remote_url#generate_url()|.
    If the code is not tracked or the repository has no remote repository etc, show error and return empty string.
    ```vim
    call yank_remote_url#yank_url(1, 3)
    " yank like 'https://github.com/owner/repo/branch/blob/file#L1+L3'
    ```

## Variable

- `yank_remote_url#enable_cache`
    Enable auto-cache that hook `BufEnter`.
    default: `v:false`

- `yank_remote_url#remote_name`
    Name of remote repository.
    default: `'origin'`

- `yank_remote_url#use_direct_hash`
    Use HEAD commit hash to generate URL.
    If disable this, use current branch name instead.
    default: `v:true`

- `yank_remote_url#remote_separator_dict`
    Some registries use `+` or `-` as a separator for url.
    eg: `https://github.com/Omochice/yank-remote-url.vim/blob/main/doc/yank_remote_url.txt#L1+L5`.
    This dictionary has the separator and URL match table.
    default: `{ 'github.com': '+', 'gitlab': '-', 'gitbucket': '+' }`


## License

[MIT](./LICENSE)

